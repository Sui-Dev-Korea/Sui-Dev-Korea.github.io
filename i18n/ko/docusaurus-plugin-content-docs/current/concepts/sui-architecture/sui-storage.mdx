---
title: Sui Storage Cost
description: 과거 데이터와 storage 가격 체계는 Sui Network에서의 운영 비용에 대한 통찰을 제공한다.
---

블록체인에서의 운영 비용은 두 가지 주요 구성 요소로 나뉜다: **compute**는 로직을 처리하는 데 필요한 연산 능력이고, **storage**는 데이터를 저장하고 결과를 보관하는 데 필요한 디지털 공간이다.

 Sui에서 compute는 비교적 고정되어 있으며, 수백 개의 validator들은 24코어, 128GB RAM 머신에서 실행된다.

Sui는 다른 블록체인과 비교해 높은 처리량을 달성하므로, storage 비용은 크게 달라질 수 있다.

다음 표는 주요 storage 구성 요소를 요약한다:

구분 | Storage 종류 | 사용 설명 | Mainnet 요구용량 (May 2024)
--- | --- | --- | ---
Validators | RocksDB, SSD storage | Validators는 최신 합의 데이터를 고성능 NVMe 디스크에 저장한다. | ~200GB
Pruning full nodes | RocksDB, SSD storage | Pruning full nodes는 효율적인 쿼리를 위해 pruning되지 않은 RocksDB 인덱스를 유지한다. | ~1.6TB
Unpruned full nodes | RocksDB, SSD storage | Unpruned full nodes는 전체 object 및 Transaction 기록을 보존하여 완전한 아카이브를 유지한다. | ~4.9TB
Full node snapshots | Cloud storage | Full node 데이터의 snapshot은 validator 또는 full node 백업 및 복구를 위해 cloud storage에 저장된다. | ~1.6TB
State-sync archival | Cloud storage | State-sync archival은 pruning된 object 동기화를 지원하기 위해 blockchain 상태 데이터를 cloud storage에 저장한다. | ~1.3TB

## Validators

Validators는 데이터베이스 증가를 제한하기 위해 pruning을 활성화해야 한다. Transaction-per-second(TPS)도 증가에 영향을 미치지만, 전체 Transaction 및 object 기록을 저장하는 것이 주요 요인이다. Transaction 유형도 데이터 증가에 영향을 준다.

![Storage](./images/storage.png)

위 이미지는 2024년 Mainnet 성장을 보여준다:

- ~18 TPS로 90일 동안 디스크 사용량은 203GB에서 215GB로 증가했다(일일 약 130MB).
- ~183 TPS로 2주 동안 디스크 사용량은 215GB에서 271GB로 증가했다(일일 약 4GB).

이 결과는 TPS 증가 비율에 따라 storage 성장도 증가함을 보여준다.

## Pruning full nodes

Pruning full nodes는 pruning 설정이 동일하기 때문에 디스크 사용량이 validator와 유사하다. 단, 두 가지 예외가 있다:

- Full nodes는 validator 디스크 사용량의 약 절반을 차지하는 `consensus_db`를 유지한다.
- 만약 노드가 RPC 쿼리를 제공하는 경우, Mainnet의 `indexes/` 디렉터리가 상당한 저장 공간을 차지한다. 현재 `indexes/`는 1.5TB이며 TPS와 함께 증가한다.

인덱스가 있는 pruned full node의 총 디스크 사용량은 ~1.6TB이다. 인덱싱이 비활성화된 경우 사용량은 ~100GB이다.

## Unpruned full nodes

Unpruned full nodes는 드물며 몇 가지 사용 사례에 적용된다:

1. 하나의 머신에서 전체 체인 상태가 필요한 경우.
2. cloud archival fallback을 사용하지 않고 state-sync를 활성화하려는 경우. Unpruned node를 피어로 사용하면 아카이브 버킷을 설정할 필요가 없다.

증가 예시:

- ~18 TPS로 90일 동안 사용량은 3.4TB에서 4.34TB로 증가했다(일일 ~10GB).
- ~183 TPS로 2주 동안 사용량은 4.34TB에서 4.92TB로 증가했다(일일 ~40GB).

## Full node snapshots

[snapshots](../../guides/operator/snapshots.mdx)에는 두 가지 유형이 있다:

- **Database snapshots:** 생성한 full node의 데이터베이스와 크기가 동일하다(1:1 복사본).
- **Formal snapshots:** 경량이며, 최근 Mainnet epoch의 경우 ~30GB이다(2024년 5월 기준).

## State-sync archival

State-sync archival은 full node 또는 ingestion daemon이 기록한 blockchain 상태 데이터를 cloud storage 버킷에 저장한다.

증가 예시:

- 90일 동안 사용량은 867GB에서 1.18TB로 증가했다(일일 ~3GB).
- 2주 동안 사용량은 1.18TB에서 1.32TB로 증가했다(일일 ~10GB).

## Related links

<relatedlink to="/guides/developer/advanced/custom-indexer.mdx"></relatedlink><relatedlink to="/guides/operator/snapshots.mdx"></relatedlink><relatedlink to="/guides/operator/archives.mdx"></relatedlink>
